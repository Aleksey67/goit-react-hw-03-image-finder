{"version":3,"sources":["components/SearchForm/SearchForm.module.css","App.module.css","components/SearchForm/SearchForm.jsx","components/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/Loader/Loader.jsx","components/ErrorNotification/errorNotification.jsx","services/photos-api.jsx","components/Modal/Modal.jsx","App.js","index.js","components/PhotoCard/PhotoCard.module.css","components/Gallery/Gallery.module.css","components/Modal/Modal.module.css"],"names":["module","exports","SearchForm","handleSubmit","e","preventDefault","props","onSubmit","target","input","value","className","styles","search_form","this","type","name","autoComplete","placeholder","Component","PhotoCard","takeWiderImage","onClick","largeImageURL","webformatURL","likes","views","comments","downloads","photo_card","src","alt","stats","stats_item","fullscreen_button","Gallery","state","listRef","createRef","prevProps","prevState","items","current","window","scrollTo","scrollHeight","onChangePage","onOpenModal","ref","gallery","map","photo","key","id","gallery_item","button","Loader","errorNotification","text","searchPhotos","page","axios","get","Modal","backDropRef","handleKeyPress","code","onClose","handelBackdropClick","addEventListener","removeEventListener","url","overlay","modal","App","photos","isLoading","error","modalUrl","isOpenModal","prevQuery","setState","closeModal","fetchPhotos","query","undefined","photosAPI","then","data","hits","catch","finally","message","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f56cd675.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_form\":\"SearchForm_search_form__1Tinh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1gUbL\"};","import React, { Component } from \"react\";\nimport styles from \"./SearchForm.module.css\";\nimport PropTypes from \"prop-types\";\n\nclass SearchForm extends Component {\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(e.target.input.value);\n  };\n\n  render() {\n    return (\n      <form className={styles.search_form} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"input\"\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  page: PropTypes.number\n};\n\nexport default SearchForm;\n","import React, { Component } from \"react\";\nimport styles from \"./PhotoCard.module.css\";\nimport PropTypes from \"prop-types\";\nimport \"material-design-icons-iconfont\";\n\nclass PhotoCard extends Component {\n  takeWiderImage = () => {\n    this.props.onClick(this.props.largeImageURL);\n  };\n\n  render() {\n    const { webformatURL, likes, views, comments, downloads } = this.props;\n    return (\n      <div className={styles.photo_card}>\n        <img src={webformatURL} alt=\"\" />\n\n        <div className={styles.stats}>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">thumb_up</i>\n            {likes}\n          </p>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">visibility</i>\n            {views}\n          </p>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">comment</i>\n            {comments}\n          </p>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">cloud_download</i>\n            {downloads}\n          </p>\n        </div>\n\n        <button\n          type=\"button\"\n          onClick={this.takeWiderImage}\n          className={styles.fullscreen_button}\n        >\n          <i className=\"material-icons\">zoom_out_map</i>\n        </button>\n      </div>\n    );\n  }\n}\n\nPhotoCard.propTypes = {\n  webformatURL: PropTypes.string,\n  likes: PropTypes.number,\n  views: PropTypes.number,\n  comments: PropTypes.number,\n  downloads: PropTypes.number\n};\n\nexport default PhotoCard;\n","import React, { Component, createRef } from 'react';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport styles from './Gallery.module.css';\nimport PropTypes from 'prop-types';\n\nclass Gallery extends Component {\n  state = {};\n\n  listRef = createRef();\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.items !== this.props.items) {\n      const listRef = this.listRef.current;\n\n      window.scrollTo(0, listRef.scrollHeight);\n    }\n  }\n\n  render() {\n    const { onChangePage, onOpenModal, items } = this.props;\n\n    return (\n      <>\n        <ul ref={this.listRef} className={styles.gallery}>\n          {items.map(photo => (\n            <li key={photo.id} className={styles.gallery_item}>\n              <PhotoCard {...photo} onClick={onOpenModal} />\n            </li>\n          ))}\n        </ul>\n        <button className={styles.button} onClick={onChangePage}>\n          Load more\n        </button>\n      </>\n    );\n  }\n}\n\nGallery.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default Gallery;\n","import React from \"react\";\r\nconst Loader = () => {\r\n  return <h1>Loading...</h1>;\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\n\r\nconst errorNotification = text => {\r\n  return <p>Whoops, something went wrong: {text}</p>;\r\n};\r\n\r\nexport default errorNotification;\r\n","import axios from \"axios\";\nconst apiKey = '14339474-abbb7cf0e0c5448f64ec8df4a';\n\nexport const searchPhotos = (text, page) => {\n  return axios.get(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${text}&page=${page}&per_page=12&key=${apiKey}`\n  );\n};\n","import React, { Component, createRef } from 'react';\r\nimport styles from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends Component {\r\n  state = {};\r\n  backDropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    if (e.code !== 'Escape') return;\r\n    this.props.onClose();\r\n  };\r\n\r\n  handelBackdropClick = e => {\r\n    const { current } = this.backDropRef;\r\n\r\n    if (current && e.target !== current) return;\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    const { url } = this.props;\r\n    return (\r\n      <div\r\n        className={styles.overlay}\r\n        ref={this.backDropRef}\r\n        onClick={this.handelBackdropClick}\r\n      >\r\n        <div className={styles.modal}>\r\n          <img src={url} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  url: PropTypes.string,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport SearchForm from './components/SearchForm/SearchForm';\nimport Gallery from './components/Gallery/Gallery';\nimport Loader from './components/Loader/Loader';\nimport ErrorNotification from './components/ErrorNotification/errorNotification';\nimport * as photosAPI from './services/photos-api';\nimport Modal from './components/Modal/Modal';\nimport './App.module.css';\n\nclass App extends Component {\n  state = {\n    photos: [],\n    isLoading: false,\n    error: null,\n    modalUrl: '',\n    isOpenModal: false,\n    page: 1,\n    prevQuery: null,\n  };\n\n  componentDidMount() {\n    this.fetchPhotos();\n  }\n\n  onOpenModal = url => {\n    this.setState({ modalUrl: url, isOpenModal: true });\n  };\n\n  closeModal = () => {\n    this.setState({ isOpenModal: false });\n  };\n\n  onChangePage = () => {\n    const page = this.state.page + 1;\n    this.setState({ page });\n    this.fetchPhotos(this.state.prevQuery);\n  };\n\n  fetchPhotos = (query) => {\n    if (query !== this.state.prevQuery) {\n      this.setState({ photos: [] });\n    }\n\n    this.setState({ isLoading: true });\n    this.setState({ prevQuery: query });\n\n    if (query === undefined) {\n      this.setState({ isLoading: false });\n      return;\n    }\n    photosAPI.searchPhotos(query, this.state.page)\n      .then(({ data }) =>\n        this.setState(state => ({\n          photos: [...state.photos, ...data.hits],\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { photos, isLoading, error, page } = this.state;\n    return (\n      <div>\n        {this.state.isOpenModal && (\n          <Modal url={this.state.modalUrl} onClose={this.closeModal} />\n        )}\n        <SearchForm onSubmit={this.fetchPhotos} page={page} />\n        {error && <ErrorNotification text={error.message} />}\n        {isLoading && <Loader />}\n        {photos.length > 0 && (\n          <Gallery\n            items={photos}\n            onOpenModal={this.onOpenModal}\n            onChangePage={this.onChangePage}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo_card\":\"PhotoCard_photo_card__mxgYT\",\"stats\":\"PhotoCard_stats__2ws2Y\",\"stats_item\":\"PhotoCard_stats_item__2Uug8\",\"fullscreen_button\":\"PhotoCard_fullscreen_button__7Mh_b\",\"fullscreen-button\":\"PhotoCard_fullscreen-button__3PLTg\",\"gallery_item\":\"PhotoCard_gallery_item__2n5We\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__3Gs_4\",\"button\":\"Gallery_button__iovYV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__PQwUE\",\"modal\":\"Modal_modal__1aWIA\"};"],"sourceRoot":""}