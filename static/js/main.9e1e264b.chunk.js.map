{"version":3,"sources":["components/SearchForm/SearchForm.module.css","App.module.css","components/SearchForm/SearchForm.jsx","components/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/Loader/Loader.jsx","components/ErrorNotification/errorNotification.jsx","services/photos-api.jsx","components/Modal/Modal.jsx","App.js","index.js","components/PhotoCard/PhotoCard.module.css","components/Gallery/Gallery.module.css","components/Modal/Modal.module.css"],"names":["module","exports","SearchForm","state","query","handleChange","e","setState","target","value","handleSubmit","preventDefault","props","onSubmit","prevProps","prevState","page","this","className","styles","search_form","type","autoComplete","placeholder","onChange","Component","PhotoCard","takeWiderImage","onClick","largeImageURL","webformatURL","likes","views","comments","downloads","photo_card","src","alt","stats","stats_item","fullscreen_button","Gallery","listRef","createRef","items","current","window","scrollTo","scrollHeight","onChangePage","onOpenModal","ref","gallery","map","photo","key","id","gallery_item","button","Loader","errorNotification","text","searchPhotos","axios","get","Modal","backDropRef","handleKeyPress","code","onClose","handelBackdropClick","addEventListener","removeEventListener","url","overlay","modal","App","photos","isLoading","error","modalUrl","isOpenModal","closeModal","fetchPhotos","undefined","photosAPI","then","data","hits","catch","finally","message","length","ReactDOM","render","document","getElementById"],"mappings":"oGACAA,EAAOC,QAAU,CAAC,YAAc,kC,uDCAhCD,EAAOC,QAAU,CAAC,IAAM,mB,wIC2CTC,E,2MAvCbC,MAAQ,CAAEC,MAAO,I,EAEjBC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,OAAOC,S,EAUlCC,aAAe,SAAAJ,GACbA,EAAEK,iBAEF,EAAKC,MAAMC,SAAS,EAAKV,MAAMC,MAAO,I,kFAVrBU,EAAWC,GACxBD,EAAUE,OAASC,KAAKL,MAAMI,OAChCC,KAAKL,MAAMC,SAASI,KAAKd,MAAMC,MAAOa,KAAKL,MAAMI,MACjDC,KAAKV,SAAS,CAAEH,MAAM,GAAD,OAAKa,KAAKd,MAAMC,Y,+BAU/B,IACAA,EAAUa,KAAKd,MAAfC,MACR,OACE,0BAAMc,UAAWC,IAAOC,YAAaP,SAAUI,KAAKP,cAClD,2BACEW,KAAK,OACLC,aAAa,MACbC,YAAY,mBACZd,MAAOL,EACPoB,SAAUP,KAAKZ,oB,GA7BAoB,a,gBCmDVC,G,iNAjDbC,eAAiB,WACf,EAAKf,MAAMgB,QAAQ,EAAKhB,MAAMiB,gB,wEAGtB,IAAD,EACqDZ,KAAKL,MAAzDkB,EADD,EACCA,aAAcC,EADf,EACeA,MAAOC,EADtB,EACsBA,MAAOC,EAD7B,EAC6BA,SAAUC,EADvC,EACuCA,UAC9C,OACE,yBAAKhB,UAAWC,IAAOgB,YACrB,yBAAKC,IAAKN,EAAcO,IAAI,KAE5B,yBAAKnB,UAAWC,IAAOmB,OACrB,uBAAGpB,UAAWC,IAAOoB,YACnB,uBAAGrB,UAAU,kBAAb,YACCa,GAEH,uBAAGb,UAAWC,IAAOoB,YACnB,uBAAGrB,UAAU,kBAAb,cACCc,GAEH,uBAAGd,UAAWC,IAAOoB,YACnB,uBAAGrB,UAAU,kBAAb,WACCe,GAEH,uBAAGf,UAAWC,IAAOoB,YACnB,uBAAGrB,UAAU,kBAAb,kBACCgB,IAIL,4BACEb,KAAK,SACLO,QAASX,KAAKU,eACdT,UAAWC,IAAOqB,mBAElB,uBAAGtB,UAAU,kBAAb,sB,GAnCcO,c,gBCyCTgB,E,2MAxCbtC,MAAQ,G,EAERuC,QAAUC,sB,kFAES7B,EAAWC,GAC5B,GAAID,EAAU8B,QAAU3B,KAAKL,MAAMgC,MAAO,CACxC,IAAMF,EAAUzB,KAAKyB,QAAQG,QAE7BC,OAAOC,SAAS,EAAGL,EAAQM,iB,+BAIrB,IAAD,EACsC/B,KAAKL,MAA1CqC,EADD,EACCA,aAAcC,EADf,EACeA,YAAaN,EAD5B,EAC4BA,MAEnC,OACE,oCACE,wBAAIO,IAAKlC,KAAKyB,QAASxB,UAAWC,IAAOiC,SACtCR,EAAMS,KAAI,SAAAC,GAAK,OACd,wBAAIC,IAAKD,EAAME,GAAItC,UAAWC,IAAOsC,cACnC,kBAAC,EAAD,iBAAeH,EAAf,CAAsB1B,QAASsB,UAIrC,4BAAQhC,UAAWC,IAAOuC,OAAQ9B,QAASqB,GAA3C,kB,GAzBcxB,aCAPkC,EAJA,WACb,OAAO,2CCIMC,EAJW,SAAAC,GACxB,OAAO,4DAAkCA,I,iBCA9BC,EAAe,SAACD,EAAM7C,GACjC,OAAO+C,IAAMC,IAAN,6EACiEH,EADjE,iBAC8E7C,EAD9E,4BAHM,wC,gBCgDAiD,E,2MA5Cb9D,MAAQ,G,EACR+D,YAAcvB,sB,EAUdwB,eAAiB,SAAA7D,GACA,WAAXA,EAAE8D,MACN,EAAKxD,MAAMyD,W,EAGbC,oBAAsB,SAAAhE,GAAM,IAClBuC,EAAY,EAAKqB,YAAjBrB,QAEJA,GAAWvC,EAAEE,SAAWqC,GAE5B,EAAKjC,MAAMyD,W,mFAjBXvB,OAAOyB,iBAAiB,UAAWtD,KAAKkD,kB,6CAIxCrB,OAAO0B,oBAAoB,UAAWvD,KAAKkD,kB,+BAgBnC,IACAM,EAAQxD,KAAKL,MAAb6D,IACR,OACE,yBACEvD,UAAWC,IAAOuD,QAClBvB,IAAKlC,KAAKiD,YACVtC,QAASX,KAAKqD,qBAEd,yBAAKpD,UAAWC,IAAOwD,OACrB,yBAAKvC,IAAKqC,EAAKpC,IAAI,W,GAlCTZ,aCwELmD,G,iNAlEbzE,MAAQ,CACN0E,OAAQ,GACRC,WAAW,EACXC,MAAO,KACPC,SAAU,GACVC,aAAa,EACbjE,KAAM,G,EAORkC,YAAc,SAAAuB,GACZ,EAAKlE,SAAS,CAAEyE,SAAUP,EAAKQ,aAAa,K,EAG9CC,WAAa,WACX,EAAK3E,SAAS,CAAE0E,aAAa,K,EAG/BhC,aAAe,WACb,EAAK1C,UAAS,SAAAJ,GAAK,MAAK,CACtBa,KAAMb,EAAMa,KAAO,O,EAIvBmE,YAAc,SAAC/E,EAAOY,GACpB,EAAKT,SAAS,CAAEuE,WAAW,SAEbM,IAAVhF,EAIJiF,EAAuBjF,EAAOY,GAC3BsE,MAAK,gBAAGC,EAAH,EAAGA,KAAH,OACJ,EAAKhF,UAAS,SAAAJ,GAAK,MAAK,CACtB0E,OAAO,GAAD,mBAAM1E,EAAM0E,QAAZ,YAAuBU,EAAKC,cAGrCC,OAAM,SAAAV,GAAK,OAAI,EAAKxE,SAAS,CAAEwE,aAC/BW,SAAQ,kBAAM,EAAKnF,SAAS,CAAEuE,WAAW,OAV1C,EAAKvE,SAAS,CAAEuE,WAAW,K,mFArB7B7D,KAAKkE,gB,+BAkCG,IAAD,EACoClE,KAAKd,MAAxC0E,EADD,EACCA,OAAQC,EADT,EACSA,UAAWC,EADpB,EACoBA,MAAO/D,EAD3B,EAC2BA,KAClC,OACE,6BACGC,KAAKd,MAAM8E,aACV,kBAAC,EAAD,CAAOR,IAAKxD,KAAKd,MAAM6E,SAAUX,QAASpD,KAAKiE,aAEjD,kBAAC,EAAD,CAAYrE,SAAUI,KAAKkE,YAAanE,KAAMA,IAC7C+D,GAAS,kBAAC,EAAD,CAAmBlB,KAAMkB,EAAMY,UACxCb,GAAa,kBAAC,EAAD,MACbD,EAAOe,OAAS,GACf,kBAAC,EAAD,CACEhD,MAAOiC,EACP3B,YAAajC,KAAKiC,YAClBD,aAAchC,KAAKgC,oB,GA3DbxB,cCLlBoE,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,U,kBCHjDhG,EAAOC,QAAU,CAAC,WAAa,8BAA8B,MAAQ,yBAAyB,WAAa,8BAA8B,kBAAoB,qCAAqC,oBAAoB,qCAAqC,aAAe,kC,kBCA1QD,EAAOC,QAAU,CAAC,QAAU,yBAAyB,OAAS,0B,kBCA9DD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,wB","file":"static/js/main.9e1e264b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_form\":\"SearchForm_search_form__1Tinh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1gUbL\"};","import React, { Component } from \"react\";\r\nimport styles from \"./SearchForm.module.css\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nclass SearchForm extends Component {\r\n  state = { query: \"\" };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.target.value });\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.page !== this.props.page) {\r\n      this.props.onSubmit(this.state.query, this.props.page);\r\n      this.setState({ query: `${this.state.query}` });\r\n    }\r\n  }\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    this.props.onSubmit(this.state.query, 1);\r\n  };\r\n\r\n  render() {\r\n    const { query } = this.state;\r\n    return (\r\n      <form className={styles.search_form} onSubmit={this.handleSubmit}>\r\n        <input\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          placeholder=\"Search images...\"\r\n          value={query}\r\n          onChange={this.handleChange}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nSearchForm.propTypes = {\r\n  page: PropTypes.number\r\n};\r\n\r\nexport default SearchForm;\r\n","import React, { Component } from \"react\";\nimport styles from \"./PhotoCard.module.css\";\nimport PropTypes from \"prop-types\";\nimport \"material-design-icons-iconfont\";\n\nclass PhotoCard extends Component {\n  takeWiderImage = () => {\n    this.props.onClick(this.props.largeImageURL);\n  };\n\n  render() {\n    const { webformatURL, likes, views, comments, downloads } = this.props;\n    return (\n      <div className={styles.photo_card}>\n        <img src={webformatURL} alt=\"\" />\n\n        <div className={styles.stats}>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">thumb_up</i>\n            {likes}\n          </p>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">visibility</i>\n            {views}\n          </p>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">comment</i>\n            {comments}\n          </p>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">cloud_download</i>\n            {downloads}\n          </p>\n        </div>\n\n        <button\n          type=\"button\"\n          onClick={this.takeWiderImage}\n          className={styles.fullscreen_button}\n        >\n          <i className=\"material-icons\">zoom_out_map</i>\n        </button>\n      </div>\n    );\n  }\n}\n\nPhotoCard.propTypes = {\n  webformatURL: PropTypes.string,\n  likes: PropTypes.number,\n  views: PropTypes.number,\n  comments: PropTypes.number,\n  downloads: PropTypes.number\n};\n\nexport default PhotoCard;\n","import React, { Component, createRef } from 'react';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport styles from './Gallery.module.css';\nimport PropTypes from 'prop-types';\n\nclass Gallery extends Component {\n  state = {};\n\n  listRef = createRef();\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.items !== this.props.items) {\n      const listRef = this.listRef.current;\n\n      window.scrollTo(0, listRef.scrollHeight);\n    }\n  }\n\n  render() {\n    const { onChangePage, onOpenModal, items } = this.props;\n\n    return (\n      <>\n        <ul ref={this.listRef} className={styles.gallery}>\n          {items.map(photo => (\n            <li key={photo.id} className={styles.gallery_item}>\n              <PhotoCard {...photo} onClick={onOpenModal} />\n            </li>\n          ))}\n        </ul>\n        <button className={styles.button} onClick={onChangePage}>\n          Load more\n        </button>\n      </>\n    );\n  }\n}\n\nGallery.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default Gallery;\n","import React from \"react\";\r\nconst Loader = () => {\r\n  return <h1>Loading...</h1>;\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\n\r\nconst errorNotification = text => {\r\n  return <p>Whoops, something went wrong: {text}</p>;\r\n};\r\n\r\nexport default errorNotification;\r\n","import axios from \"axios\";\nconst apiKey = '14339474-abbb7cf0e0c5448f64ec8df4a';\n\nexport const searchPhotos = (text, page) => {\n  return axios.get(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${text}&page=${page}&per_page=12&key=${apiKey}`\n  );\n};\n","import React, { Component, createRef } from 'react';\r\nimport styles from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends Component {\r\n  state = {};\r\n  backDropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    if (e.code !== 'Escape') return;\r\n    this.props.onClose();\r\n  };\r\n\r\n  handelBackdropClick = e => {\r\n    const { current } = this.backDropRef;\r\n\r\n    if (current && e.target !== current) return;\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    const { url } = this.props;\r\n    return (\r\n      <div\r\n        className={styles.overlay}\r\n        ref={this.backDropRef}\r\n        onClick={this.handelBackdropClick}\r\n      >\r\n        <div className={styles.modal}>\r\n          <img src={url} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  url: PropTypes.string,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport SearchForm from './components/SearchForm/SearchForm';\nimport Gallery from './components/Gallery/Gallery';\nimport Loader from './components/Loader/Loader';\nimport ErrorNotification from './components/ErrorNotification/errorNotification';\nimport * as photosAPI from './services/photos-api';\nimport Modal from './components/Modal/Modal';\nimport './App.module.css';\n\nclass App extends Component {\n  state = {\n    photos: [],\n    isLoading: false,\n    error: null,\n    modalUrl: '',\n    isOpenModal: false,\n    page: 1,\n  };\n\n  componentDidMount() {\n    this.fetchPhotos();\n  }\n\n  onOpenModal = url => {\n    this.setState({ modalUrl: url, isOpenModal: true });\n  };\n\n  closeModal = () => {\n    this.setState({ isOpenModal: false });\n  };\n\n  onChangePage = () => {\n    this.setState(state => ({\n      page: state.page + 1,\n    }));\n  };\n\n  fetchPhotos = (query, page) => {\n    this.setState({ isLoading: true });\n\n    if (query === undefined) {\n      this.setState({ isLoading: false });\n      return;\n    }\n    photosAPI.searchPhotos(query, page)\n      .then(({ data }) =>\n        this.setState(state => ({\n          photos: [...state.photos, ...data.hits],\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { photos, isLoading, error, page } = this.state;\n    return (\n      <div>\n        {this.state.isOpenModal && (\n          <Modal url={this.state.modalUrl} onClose={this.closeModal} />\n        )}\n        <SearchForm onSubmit={this.fetchPhotos} page={page} />\n        {error && <ErrorNotification text={error.message} />}\n        {isLoading && <Loader />}\n        {photos.length > 0 && (\n          <Gallery\n            items={photos}\n            onOpenModal={this.onOpenModal}\n            onChangePage={this.onChangePage}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo_card\":\"PhotoCard_photo_card__mxgYT\",\"stats\":\"PhotoCard_stats__2ws2Y\",\"stats_item\":\"PhotoCard_stats_item__2Uug8\",\"fullscreen_button\":\"PhotoCard_fullscreen_button__7Mh_b\",\"fullscreen-button\":\"PhotoCard_fullscreen-button__3PLTg\",\"gallery_item\":\"PhotoCard_gallery_item__2n5We\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__3Gs_4\",\"button\":\"Gallery_button__iovYV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__PQwUE\",\"modal\":\"Modal_modal__1aWIA\"};"],"sourceRoot":""}