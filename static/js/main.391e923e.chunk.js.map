{"version":3,"sources":["components/SearchForm/SearchForm.module.css","App.module.css","components/SearchForm/SearchForm.jsx","components/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/Loader/Loader.jsx","components/ErrorNotification/errorNotification.jsx","services/photos-api.jsx","components/Modal/Modal.jsx","App.js","index.js","components/PhotoCard/PhotoCard.module.css","components/Gallery/Gallery.module.css","components/Modal/Modal.module.css"],"names":["module","exports","SearchForm","handleSubmit","e","preventDefault","props","onSubmit","target","input","value","query","this","className","styles","search_form","type","name","autoComplete","placeholder","Component","PhotoCard","takeWiderImage","onClick","largeImageURL","webformatURL","likes","views","comments","downloads","photo_card","src","alt","stats","stats_item","fullscreen_button","Gallery","state","listRef","createRef","prevProps","prevState","items","current","window","scrollTo","scrollHeight","onChangePage","onOpenModal","ref","gallery","map","photo","key","id","gallery_item","button","Loader","errorNotification","text","searchPhotos","page","axios","get","Modal","backDropRef","handleKeyPress","code","onClose","handelBackdropClick","addEventListener","removeEventListener","url","overlay","modal","App","photos","isLoading","error","modalUrl","isOpenModal","setState","closeModal","fetchPhotos","photosAPI","then","data","hits","catch","finally","onSubmitQuery","message","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.391e923e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_form\":\"SearchForm_search_form__1Tinh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1gUbL\"};","import React, { Component } from \"react\";\nimport styles from \"./SearchForm.module.css\";\nimport PropTypes from \"prop-types\";\n\nclass SearchForm extends Component {\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(e.target.input.value);\n  };\n\n  render() {\n    const query = this.props.query;\n    return (\n      <form className={styles.search_form} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"input\"\n          value={query}\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\nimport 'material-design-icons-iconfont';\n\nclass PhotoCard extends Component {\n  takeWiderImage = () => {\n    this.props.onClick(this.props.largeImageURL);\n  };\n\n  render() {\n    const { webformatURL, likes, views, comments, downloads } = this.props;\n    return (\n      <div className={styles.photo_card}>\n        <img src={webformatURL} alt=\"\" />\n\n        <div className={styles.stats}>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">thumb_up</i>\n            {likes}\n          </p>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">visibility</i>\n            {views}\n          </p>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">comment</i>\n            {comments}\n          </p>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">cloud_download</i>\n            {downloads}\n          </p>\n        </div>\n\n        <button\n          type=\"button\"\n          onClick={this.takeWiderImage}\n          className={styles.fullscreen_button}\n        >\n          <i className=\"material-icons\">zoom_out_map</i>\n        </button>\n      </div>\n    );\n  }\n}\n\nPhotoCard.propTypes = {\n  webformatURL: PropTypes.string,\n  likes: PropTypes.number,\n  views: PropTypes.number,\n  comments: PropTypes.number,\n  downloads: PropTypes.number\n};\n\nexport default PhotoCard;\n","import React, { Component, createRef } from 'react';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport styles from './Gallery.module.css';\nimport PropTypes from 'prop-types';\n\nclass Gallery extends Component {\n  state = {};\n\n  listRef = createRef();\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.items !== this.props.items) {\n      const listRef = this.listRef.current;\n\n      window.scrollTo(0, listRef.scrollHeight);\n    }\n  }\n\n  render() {\n    const { onChangePage, onOpenModal, items } = this.props;\n\n    return (\n      <>\n        <ul ref={this.listRef} className={styles.gallery}>\n          {items.map(photo => (\n            <li key={photo.id} className={styles.gallery_item}>\n              <PhotoCard {...photo} onClick={onOpenModal} />\n            </li>\n          ))}\n        </ul>\n        <button className={styles.button} onClick={onChangePage}>\n          Load more\n        </button>\n      </>\n    );\n  }\n}\n\nGallery.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default Gallery;\n","import React from \"react\";\r\nconst Loader = () => {\r\n  return <h1>Loading...</h1>;\r\n};\r\n\r\nexport default Loader;\r\n","import React from \"react\";\r\n\r\nconst errorNotification = text => {\r\n  return <p>Whoops, something went wrong: {text}</p>;\r\n};\r\n\r\nexport default errorNotification;\r\n","import axios from \"axios\";\nconst apiKey = '14339474-abbb7cf0e0c5448f64ec8df4a';\n\nexport const searchPhotos = (text, page) => {\n  return axios.get(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${text}&page=${page}&per_page=12&key=${apiKey}`\n  );\n};\n","import React, { Component, createRef } from 'react';\r\nimport styles from './Modal.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Modal extends Component {\r\n  state = {};\r\n  backDropRef = createRef();\r\n\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyPress);\r\n  }\r\n\r\n  handleKeyPress = e => {\r\n    if (e.code !== 'Escape') return;\r\n    this.props.onClose();\r\n  };\r\n\r\n  handelBackdropClick = e => {\r\n    const { current } = this.backDropRef;\r\n\r\n    if (current && e.target !== current) return;\r\n\r\n    this.props.onClose();\r\n  };\r\n\r\n  render() {\r\n    const { url } = this.props;\r\n    return (\r\n      <div\r\n        className={styles.overlay}\r\n        ref={this.backDropRef}\r\n        onClick={this.handelBackdropClick}\r\n      >\r\n        <div className={styles.modal}>\r\n          <img src={url} alt=\"\" />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nModal.propTypes = {\r\n  url: PropTypes.string,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { Component } from 'react';\nimport SearchForm from './components/SearchForm/SearchForm';\nimport Gallery from './components/Gallery/Gallery';\nimport Loader from './components/Loader/Loader';\nimport ErrorNotification from './components/ErrorNotification/errorNotification';\nimport * as photosAPI from './services/photos-api';\nimport Modal from './components/Modal/Modal';\nimport './App.module.css';\n\nclass App extends Component {\n  state = {\n    photos: [],\n    isLoading: false,\n    error: null,\n    modalUrl: '',\n    isOpenModal: false,\n    page: 1,\n    query: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.page !== this.state.page || prevState.query !== this.state.query) {\n      this.fetchPhotos();\n    }\n  }\n\n  onOpenModal = url => {\n    this.setState({ modalUrl: url, isOpenModal: true });\n  };\n\n  closeModal = () => {\n    this.setState({ isOpenModal: false });\n  };\n\n  onChangePage = () => {\n    const page = this.state.page + 1;\n    this.setState({ page });\n  };\n\n  onSubmitQuery(query) {\n    this.setState({\n      query,\n      page: 1,\n      photos: [],\n    });\n  }\n\n  fetchPhotos = () => {\n    if (!this.state.query) return;\n\n    this.setState({ isLoading: true });\n\n    photosAPI.searchPhotos(this.state.query, this.state.page)\n      .then(({ data }) =>\n        this.setState(state => ({\n          photos: [...state.photos, ...data.hits],\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { photos, isLoading, error, page } = this.state;\n    return (\n      <div>\n        {this.state.isOpenModal && (\n          <Modal url={this.state.modalUrl} onClose={this.closeModal} />\n        )}\n        <SearchForm onSubmit={e => this.onSubmitQuery(e)} page={page} />\n        {error && <ErrorNotification text={error.message} />}\n        {isLoading && <Loader />}\n        {photos.length > 0 && (\n          <Gallery\n            items={photos}\n            onOpenModal={this.onOpenModal}\n            onChangePage={this.onChangePage}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo_card\":\"PhotoCard_photo_card__mxgYT\",\"stats\":\"PhotoCard_stats__2ws2Y\",\"stats_item\":\"PhotoCard_stats_item__2Uug8\",\"fullscreen_button\":\"PhotoCard_fullscreen_button__7Mh_b\",\"fullscreen-button\":\"PhotoCard_fullscreen-button__3PLTg\",\"gallery_item\":\"PhotoCard_gallery_item__2n5We\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__3Gs_4\",\"button\":\"Gallery_button__iovYV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__PQwUE\",\"modal\":\"Modal_modal__1aWIA\"};"],"sourceRoot":""}