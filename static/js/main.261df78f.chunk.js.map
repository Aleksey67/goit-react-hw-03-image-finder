{"version":3,"sources":["components/SearchForm/SearchForm.module.css","components/Loader/Loader.module.css","App.module.css","components/SearchForm/SearchForm.jsx","components/PhotoCard/PhotoCard.jsx","components/Gallery/Gallery.jsx","components/Loader/Loader.jsx","components/ErrorNotification/errorNotification.jsx","services/photos-api.jsx","components/Modal/Modal.jsx","App.js","index.js","components/PhotoCard/PhotoCard.module.css","components/Gallery/Gallery.module.css","components/Modal/Modal.module.css"],"names":["module","exports","SearchForm","handleSubmit","e","preventDefault","props","onSubmit","target","input","value","query","this","className","styles","search_form","type","name","autoComplete","placeholder","Component","PhotoCard","takeWiderImage","onClick","largeImageURL","webformatURL","likes","views","comments","downloads","photo_card","src","alt","stats","stats_item","fullscreen_button","Gallery","listRef","createRef","prevProps","items","current","window","scrollTo","left","top","scrollHeight","behavior","onChangePage","onOpenModal","ref","gallery","map","photo","key","id","gallery_item","button","Loader","loader","errorNotification","text","searchPhotos","page","axios","get","Modal","backDropRef","handleKeyPress","code","onClose","handelBackdropClick","addEventListener","removeEventListener","url","overlay","modal","App","state","photos","isLoading","error","modalUrl","isOpenModal","setState","closeModal","fetchPhotos","photosAPI","then","data","hits","catch","finally","prevState","onSubmitQuery","message","length","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.261df78f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"search_form\":\"SearchForm_search_form__1Tinh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__IltdK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1gUbL\"};","import React, { Component } from \"react\";\nimport styles from \"./SearchForm.module.css\";\nimport PropTypes from \"prop-types\";\n\nclass SearchForm extends Component {\n  handleSubmit = e => {\n    e.preventDefault();\n\n    this.props.onSubmit(e.target.input.value);\n  };\n\n  render() {\n    const query = this.props.query;\n    return (\n      <form className={styles.search_form} onSubmit={this.handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"input\"\n          value={query}\n          autoComplete=\"off\"\n          placeholder=\"Search images...\"\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\nimport 'material-design-icons-iconfont';\n\nclass PhotoCard extends Component {\n  takeWiderImage = () => {\n    this.props.onClick(this.props.largeImageURL);\n  };\n\n  render() {\n    const { webformatURL, likes, views, comments, downloads } = this.props;\n    return (\n      <div className={styles.photo_card}>\n        <img src={webformatURL} alt=\"\" />\n\n        <div className={styles.stats}>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">thumb_up</i>\n            {likes}\n          </p>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">visibility</i>\n            {views}\n          </p>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">comment</i>\n            {comments}\n          </p>\n          <p className={styles.stats_item}>\n            <i className=\"material-icons\">cloud_download</i>\n            {downloads}\n          </p>\n        </div>\n\n        <button\n          type=\"button\"\n          onClick={this.takeWiderImage}\n          className={styles.fullscreen_button}\n        >\n          <i className=\"material-icons\">zoom_out_map</i>\n        </button>\n      </div>\n    );\n  }\n}\n\nPhotoCard.propTypes = {\n  webformatURL: PropTypes.string,\n  likes: PropTypes.number,\n  views: PropTypes.number,\n  comments: PropTypes.number,\n  downloads: PropTypes.number\n};\n\nexport default PhotoCard;\n","import React, { Component, createRef } from 'react';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport PropTypes from 'prop-types';\nimport styles from './Gallery.module.css';\n\nclass Gallery extends Component {\n  listRef = createRef();\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.items !== this.props.items) {\n      const listRef = this.listRef.current;\n\n      window.scrollTo({\n        left: 0,\n        top: listRef.scrollHeight,\n        behavior: 'smooth',\n      });\n    }\n  }\n\n  render() {\n    const { onChangePage, onOpenModal, items } = this.props;\n\n    return (\n      <>\n        <ul ref={this.listRef} className={styles.gallery}>\n          {items.map(photo => (\n            <li key={photo.id} className={styles.gallery_item}>\n              <PhotoCard {...photo} onClick={onOpenModal} />\n            </li>\n          ))}\n        </ul>\n        <button className={styles.button} onClick={onChangePage}>\n          Load more\n        </button>\n      </>\n    );\n  }\n}\n\nGallery.propTypes = {\n  items: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }).isRequired,\n  ).isRequired,\n};\n\nexport default Gallery;\n","import React from 'react';\nimport styles from './Loader.module.css';\n\nconst Loader = () => {\n  return (\n    <h1 className={styles.loader}>\n      <span>Loading...</span>\n    </h1>\n  );\n};\n\nexport default Loader;\n","import React from \"react\";\r\n\r\nconst errorNotification = text => {\r\n  return <p>Whoops, something went wrong: {text}</p>;\r\n};\r\n\r\nexport default errorNotification;\r\n","import axios from \"axios\";\nconst apiKey = '14339474-abbb7cf0e0c5448f64ec8df4a';\n\nexport const searchPhotos = (text, page) => {\n  return axios.get(\n    `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${text}&page=${page}&per_page=12&key=${apiKey}`\n  );\n};\n","import React, { Component, createRef } from 'react';\nimport styles from './Modal.module.css';\nimport PropTypes from 'prop-types';\n\nclass Modal extends Component {\n  backDropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n    this.props.onClose();\n  };\n\n  handelBackdropClick = e => {\n    const { current } = this.backDropRef;\n\n    if (current && e.target !== current) return;\n\n    this.props.onClose();\n  };\n\n  render() {\n    const { url } = this.props;\n    return (\n      <div\n        className={styles.overlay}\n        ref={this.backDropRef}\n        onClick={this.handelBackdropClick}\n      >\n        <div className={styles.modal}>\n          <img src={url} alt=\"\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nModal.propTypes = {\n  url: PropTypes.string,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport SearchForm from './components/SearchForm/SearchForm';\nimport Gallery from './components/Gallery/Gallery';\nimport Loader from './components/Loader/Loader';\nimport ErrorNotification from './components/ErrorNotification/errorNotification';\nimport * as photosAPI from './services/photos-api';\nimport Modal from './components/Modal/Modal';\nimport './App.module.css';\n\nclass App extends Component {\n  state = {\n    photos: [],\n    isLoading: false,\n    error: null,\n    modalUrl: '',\n    isOpenModal: false,\n    page: 1,\n    query: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.page !== this.state.page || prevState.query !== this.state.query) {\n      this.fetchPhotos();\n    }\n  }\n\n  onOpenModal = url => {\n    this.setState({ modalUrl: url, isOpenModal: true });\n  };\n\n  closeModal = () => {\n    this.setState({ isOpenModal: false });\n  };\n\n  onChangePage = () => {\n    const page = this.state.page + 1;\n    this.setState({ page });\n  };\n\n  onSubmitQuery(query) {\n    this.setState({\n      query,\n      page: 1,\n      photos: [],\n    });\n  }\n\n  fetchPhotos = () => {\n    if (!this.state.query) return;\n\n    this.setState({ isLoading: true });\n\n    photosAPI.searchPhotos(this.state.query, this.state.page)\n      .then(({ data }) =>\n        this.setState(state => ({\n          photos: [...state.photos, ...data.hits],\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { photos, isLoading, error, page } = this.state;\n    return (\n      <div>\n        {this.state.isOpenModal && (\n          <Modal url={this.state.modalUrl} onClose={this.closeModal} />\n        )}\n        <SearchForm onSubmit={e => this.onSubmitQuery(e)} page={page} />\n        {error && <ErrorNotification text={error.message} />}\n        {isLoading && <Loader />}\n        {photos.length > 0 && (\n          <Gallery\n            items={photos}\n            onOpenModal={this.onOpenModal}\n            onChangePage={this.onChangePage}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"photo_card\":\"PhotoCard_photo_card__mxgYT\",\"stats\":\"PhotoCard_stats__2ws2Y\",\"stats_item\":\"PhotoCard_stats_item__2Uug8\",\"fullscreen_button\":\"PhotoCard_fullscreen_button__7Mh_b\",\"fullscreen-button\":\"PhotoCard_fullscreen-button__3PLTg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__3Gs_4\",\"button\":\"Gallery_button__iovYV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__PQwUE\",\"modal\":\"Modal_modal__1aWIA\"};"],"sourceRoot":""}